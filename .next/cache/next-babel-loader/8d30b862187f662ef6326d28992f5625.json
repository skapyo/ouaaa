{"ast":null,"code":"import { useCallback } from \"react\";\nimport { useCookies } from 'react-cookie';\nimport { useRouter } from \"next/router\";\n\nconst useCookieRedirection = options => {\n  const cookieKey = (options === null || options === void 0 ? void 0 : options.cookieKey) || 'redirect_url';\n  const router = useRouter();\n  const [cookies, setCookie, removeCookie] = useCookies();\n  const redirect = useCallback(() => {\n    if ((cookies === null || cookies === void 0 ? void 0 : cookies[cookieKey]) && (cookies === null || cookies === void 0 ? void 0 : cookies[cookieKey]) != router.asPath) {\n      router.push(cookies === null || cookies === void 0 ? void 0 : cookies[cookieKey]);\n      removeCookie(cookieKey, {\n        path: '/'\n      });\n    } else {\n      router.push('/');\n      removeCookie(cookieKey, {\n        path: '/'\n      });\n    }\n  }, [cookies, cookieKey, removeCookie, router]);\n  return redirect;\n};\n\nexport default useCookieRedirection;","map":{"version":3,"sources":["C:/Users/skaPy/IdeaProjects/Next.js-boilerplate/oozie-client/hooks/useCookieRedirection.js"],"names":["useCallback","useCookies","useRouter","useCookieRedirection","options","cookieKey","router","cookies","setCookie","removeCookie","redirect","asPath","push","path"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,OAA1B;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAGA,MAAMC,oBAAoB,GAAIC,OAAD,IAAa;AAEtC,QAAMC,SAAS,GAAG,CAAAD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEC,SAAT,KAAsB,cAAxC;AAEA,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AAEA,QAAM,CAACK,OAAD,EAAUC,SAAV,EAAqBC,YAArB,IAAqCR,UAAU,EAArD;AAEA,QAAMS,QAAQ,GAAGV,WAAW,CAAC,MAAM;AAC/B,QAAG,CAAAO,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGF,SAAH,CAAP,KAAwB,CAAAE,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGF,SAAH,CAAP,KAAwBC,MAAM,CAACK,MAA1D,EAAkE;AAC9DL,MAAAA,MAAM,CAACM,IAAP,CAAYL,OAAZ,aAAYA,OAAZ,uBAAYA,OAAO,CAAGF,SAAH,CAAnB;AACAI,MAAAA,YAAY,CAACJ,SAAD,EAAW;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAX,CAAZ;AACD,KAHH,MAIO;AACHP,MAAAA,MAAM,CAACM,IAAP,CAAY,GAAZ;AACAH,MAAAA,YAAY,CAACJ,SAAD,EAAW;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAAX,CAAZ;AACD;AAEN,GAV2B,EAU1B,CAACN,OAAD,EAASF,SAAT,EAAmBI,YAAnB,EAAgCH,MAAhC,CAV0B,CAA5B;AAYA,SAAOI,QAAP;AAEH,CAtBD;;AAwBA,eAAeP,oBAAf","sourcesContent":["import {useCallback} from \"react\"\r\nimport {useCookies} from 'react-cookie'\r\nimport { useRouter } from \"next/router\"\r\n\r\n\r\nconst useCookieRedirection = (options) => {\r\n\r\n    const cookieKey = options?.cookieKey || 'redirect_url'\r\n\r\n    const router = useRouter()\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    const redirect = useCallback(() => {\r\n        if(cookies?.[cookieKey] && cookies?.[cookieKey] != router.asPath) {\r\n            router.push(cookies?.[cookieKey])  \r\n            removeCookie(cookieKey,{ path: '/' })\r\n          }\r\n          else {\r\n            router.push('/')\r\n            removeCookie(cookieKey,{ path: '/' })\r\n          }\r\n            \r\n    },[cookies,cookieKey,removeCookie,router])\r\n\r\n    return redirect\r\n\r\n}\r\n\r\nexport default useCookieRedirection"]},"metadata":{},"sourceType":"module"}